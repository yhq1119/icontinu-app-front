{"remainingRequest":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\src\\views\\ManageCourse.vue?vue&type=style&index=0&id=6905bef7&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\src\\views\\ManageCourse.vue","mtime":1571960319029},{"path":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1564062719000},{"path":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Nathan\\Desktop\\github-repository\\icontinu-app-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nh2 {\r\n  text-transform: uppercase;\r\n}\r\n.course-name {\r\n  max-width: 100%;\r\n  word-break: keep-all;\r\n  line-break: normal;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  line-height: 2em;\r\n}\r\n.date-part {\r\n  text-justify: distribute-all-lines;\r\n  justify-items: center;\r\n  align-items: center;\r\n  color: gray;\r\n  max-width: 120px;\r\n  height: 120px;\r\n  background-color: orange;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  padding: 0 !important;\r\n\r\n  border-radius: 15px 0 0 15px;\r\n}\r\n.course-location {\r\n  font-size: 12px;\r\n  color: gray;\r\n}\r\n.course-time {\r\n  height: 1em;\r\n  color: gray;\r\n  font-size: 12px;\r\n  text-align: center;\r\n}\r\n.course-image {\r\n  padding: 0 !important;\r\n}\r\n#course-container {\r\n  padding: 0;\r\n  border-radius: 15px;\r\n}\r\n.course-info {\r\n  padding: 0;\r\n  background-color: white;\r\n  margin-left: 1.25em;\r\n  max-width: auto;\r\n  height: 120px;\r\n  justify-content: center;\r\n  align-self: center;\r\n  align-content: center;\r\n  /* min-width: 125px; */\r\n}\r\n.my-container {\r\n  border-radius: 15px;\r\n  border-width: 2px;\r\n  border-color: aquamarine;\r\n}\r\n#btn-refresh,\r\n#btn-create,\r\n#btn-modify {\r\n  width: 120px;\r\n  margin: 5px;\r\n}\r\n",{"version":3,"sources":["ManageCourse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ManageCourse.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-col>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"3\" class=\"d-none d-md-block\"></v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <v-img src=\"../assets/organisor.png\"></v-img>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"3\" class=\"d-none d-md-block\"></v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"1\" class=\"d-none d-md-block\"></v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n          <!--  -->\r\n          <v-row>\r\n            <v-col\r\n              cols=\"12\"\r\n              md=\"6\"\r\n              v-for=\"item in courses\"\r\n              :key=\"item.course_id\"\r\n              style=\"padding:0.25em\"\r\n            >\r\n              <v-card height=\"120px\" id=\"course-container\" @click=\"find(item.course_id)\">\r\n                <v-row>\r\n                  <v-col\r\n                    v-bind:style=\"item.bgc\"\r\n                    class=\"date-part\"\r\n                    style=\"padding:0; margin-left:10px;\"\r\n                    cols=\"3\"\r\n                    align=\"right\"\r\n                  >\r\n                    <div>\r\n                      <br />\r\n                      <h3>{{date1a(item.course_time)[2]}}</h3>\r\n                      <h2>{{date1a(item.course_time)[1]}}</h2>\r\n                    </div>\r\n                  </v-col>\r\n                  <v-col class=\"course-image\" cols=\"3\">\r\n                    <v-img height=\"120px\" max-width=\"120px\" :src=\"item.src\"></v-img>\r\n                  </v-col>\r\n                  <v-col cols=\"4\" class=\"course-info\">\r\n                    <v-row>\r\n                      <v-tooltip>\r\n                        <span>{{item.course_name}}</span>\r\n                      </v-tooltip>\r\n                      <div class=\"course-name\">{{item.course_name}}</div>\r\n                    </v-row>\r\n                    <v-row>\r\n                      <span class=\"course-location\">{{item.course_location}}</span>\r\n                    </v-row>\r\n                    <v-row>\r\n                      <span class=\"course-time\">{{date2a(item.course_time)}}</span>\r\n                    </v-row>\r\n                    <v-row style=\"margin-top:10px;\">\r\n                      <v-chip small color=\"orange\">{{item.course_point}} Points</v-chip>\r\n                    </v-row>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card>\r\n            </v-col>\r\n          </v-row>\r\n          <!--  -->\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-container fluid style=\"padding:0\">\r\n            <v-card>\r\n              <v-card-title>\r\n                <h1>Create event</h1>\r\n              </v-card-title>\r\n              <v-overlay v-model=\"overlay\" z-index=\"10000\">Verifying, please wait...</v-overlay>\r\n              <v-snackbar v-model=\"alert\" top :color=\"color\">\r\n                <div>\r\n                  <v-btn @click=\"alert = false\" icon>\r\n                    <v-icon>md-close-circle</v-icon>\r\n                  </v-btn>\r\n                  {{ alert_msg }}\r\n                </div>\r\n              </v-snackbar>\r\n              <div class=\"pa-3\" align=\"center\">\r\n                <div>\r\n                  <v-text-field label=\"Course Id\" v-model=\"course_id\" v-show=\"add\" disabled></v-text-field>\r\n                  <v-text-field label=\"Course name\" v-model=\"course_name\"></v-text-field>\r\n                  <!--  -->\r\n\r\n                  <!--  -->\r\n                  <v-text-field label=\"Course point\" type=\"number\" v-model=\"course_point\"></v-text-field>\r\n                  <v-text-field label=\"Course location\" v-model=\"course_location\"></v-text-field>\r\n                  <v-text-field\r\n                    label=\"Course duration\"\r\n                    type=\"number\"\r\n                    v-model=\"course_duration\"\r\n                    placeholder=\"Hour(s)\"\r\n                  ></v-text-field>\r\n                  <!--  -->\r\n                  <v-dialog\r\n                    ref=\"menu1\"\r\n                    v-model=\"menu1\"\r\n                    :return-value.sync=\"course_d1\"\r\n                    persistent\r\n                    width=\"290px\"\r\n                  >\r\n                    <template v-slot:activator=\"{ on }\">\r\n                      <v-text-field\r\n                        v-model=\"course_d1\"\r\n                        label=\"Pick a date\"\r\n                        prepend-inner-icon=\"mdi-calendar-range\"\r\n                        readonly\r\n                        v-on=\"on\"\r\n                      ></v-text-field>\r\n                    </template>\r\n                    <v-date-picker v-model=\"course_d1\" scrollable>\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn text color=\"primary\" @click=\"menu1 = false\">Cancel</v-btn>\r\n                      <v-btn text color=\"primary\" @click=\"$refs.menu1.save(course_d1)\">OK</v-btn>\r\n                    </v-date-picker>\r\n                  </v-dialog>\r\n                  <!--  -->\r\n                  <!--  -->\r\n                  <v-dialog\r\n                    ref=\"dialog2\"\r\n                    v-model=\"menu2\"\r\n                    :return-value.sync=\"course_t1\"\r\n                    persistent\r\n                    width=\"290px\"\r\n                  >\r\n                    <template v-slot:activator=\"{ on }\">\r\n                      <v-text-field\r\n                        v-model=\"course_t1\"\r\n                        label=\"Pick a time\"\r\n                        prepend-inner-icon=\"mdi-clock\"\r\n                        readonly\r\n                        v-on=\"on\"\r\n                      ></v-text-field>\r\n                    </template>\r\n                    <v-time-picker v-if=\"menu2\" v-model=\"course_t1\" min-width=\"290px\" use-seconds>\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn text color=\"primary\" @click=\"menu2 = false\">Cancel</v-btn>\r\n                      <v-btn text color=\"primary\" @click=\"$refs.dialog2.save(course_t1)\">OK</v-btn>\r\n                    </v-time-picker>\r\n                  </v-dialog>\r\n                  <!--  -->\r\n\r\n                  <v-textarea label=\"Course description\" solo v-model=\"course_desc\"></v-textarea>\r\n                  <!-- <p>{{ this.getCourseToSend() }}</p> -->\r\n                </div>\r\n                <v-switch v-model=\"add\" class=\"mx-2\" label=\"Edit Mode\"></v-switch>\r\n                <!-- {{course_t1}} -->\r\n                <v-btn\r\n                  class=\"mr-1\"\r\n                  id=\"btn-refresh\"\r\n                  dark\r\n                  color=\"rgb(231,113,51)\"\r\n                  outlined\r\n                  @click=\"getCourses\"\r\n                >Refresh</v-btn>\r\n                <v-btn\r\n                  class=\"mr-1\"\r\n                  id=\"btn-create\"\r\n                  dark\r\n                  color=\"blue\"\r\n                  outlined\r\n                  @click=\"addCourse\"\r\n                  v-show=\"!add\"\r\n                >Create</v-btn>\r\n                <v-btn\r\n                  id=\"btn-modify\"\r\n                  class=\"mr-1\"\r\n                  dark\r\n                  color=\"green\"\r\n                  outlined\r\n                  @click=\"modifyCourse\"\r\n                  v-show=\"add\"\r\n                >Modify</v-btn>\r\n              </div>\r\n              <v-container class=\"pa-2\" fluid></v-container>\r\n            </v-card>\r\n          </v-container>\r\n        </v-col>\r\n        <v-col class=\"d-none d-md-block\" cols=\"12\" md=\"1\"></v-col>\r\n      </v-row>\r\n    </v-col>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      time: null,\r\n      menu1: false,\r\n      date1: \"\",\r\n      menu2: false,\r\n      modal2: false,\r\n      date2: \"\",\r\n      add: false,\r\n      // alert: false,\r\n      // alert_msg: \"\",\r\n      // color: \"yellow\",\r\n      course_name: \"\",\r\n      course_id: \"\",\r\n      course_time: this.course_d1 + \" \" + this.course_t1,\r\n      course_d1: null,\r\n      course_t1: null,\r\n      // c_t1_holder: \"pick a time\",\r\n      course_duration: \"\",\r\n      course_location: \"\",\r\n      course_point: \"\",\r\n      course_desc: \"\",\r\n      courseToSend: \"\",\r\n      overlay: false,\r\n      courses: [],\r\n      pics: [\r\n        {\r\n          src: require(\"../assets/1-1.png\")\r\n        },\r\n        {\r\n          src: require(\"../assets/2-1.png\")\r\n        },\r\n        {\r\n          src: require(\"../assets/3-1.png\")\r\n        },\r\n        {\r\n          src: require(\"../assets/4-1.png\")\r\n        },\r\n        {\r\n          src: require(\"../assets/5-1.png\")\r\n        },\r\n        {\r\n          src: require(\"../assets/6-1.png\")\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    moment,\r\n    onChange(time, timeString) {\r\n      // console.log(time, timeString)\r\n      this.course_t1 = timeString;\r\n    },\r\n    date1a(str) {\r\n      var temp = str.split(\" \");\r\n      var date = new Date(temp[0]);\r\n      var ss = date.toString();\r\n      var sss = ss.split(\" \");\r\n      // return sss[1] + \" \" + sss[2];\r\n      return sss;\r\n    },\r\n    date2a(str) {\r\n      var temp = str.split(\" \");\r\n      var date = new Date(temp[0]);\r\n      var ss = date.toString();\r\n      var sss = ss.split(\" \");\r\n      return sss[1] + \" \" + sss[2] + \" \" + sss[3];\r\n    },\r\n    colors(str) {\r\n      var temp = str.split(\" \");\r\n      var date = new Date(temp[0]);\r\n      var half = new Date(\"2019-06-30\");\r\n      if (date.getTime < half.getTime) {\r\n        return \"orange\";\r\n      }\r\n      return \"gray\";\r\n    },\r\n    snackbarHint(text, color) {\r\n      this.$store.commit(\"SET_SNACKBAR\", {\r\n        showing: true,\r\n        text: text,\r\n        color: color\r\n      });\r\n    },\r\n    date11(str) {\r\n      var temp = str.split(\" \");\r\n      var date = new Date(temp[0]);\r\n      // console.log(date);\r\n      var ss = date.toString();\r\n      // console.log(ss);\r\n      var sss = ss.split(\" \");\r\n      // console.log(sss[1]);\r\n      return sss[1] + \" \" + sss[2];\r\n    },\r\n    showCourseInfo() {},\r\n    getCourseToSend() {\r\n      return (\r\n        this.course_name +\r\n        \";\" +\r\n        this.course_time +\r\n        \";\" +\r\n        this.course_location +\r\n        \";\" +\r\n        this.course_duration +\r\n        \";\" +\r\n        this.course_point\r\n      );\r\n    },\r\n    showAlert(color, msg) {\r\n      this.color = color;\r\n      this.alert_msg = msg;\r\n      this.alert = true;\r\n    },\r\n    async getCourses() {\r\n      // this.courses = [];\r\n      this.overlay = true;\r\n\r\n      try {\r\n        let res = await this.$store.dispatch(\"callAPI\", {\r\n          send: {},\r\n          branch: \"/get_all_courses/\",\r\n          call: \"DO_NOTHING\",\r\n          dataSet: {}\r\n        });\r\n\r\n        this.courses = res.courses;\r\n        for (var i = 0; i < this.courses.length; i++) {\r\n          this.courses[i].src = this.pics[i % 5].src;\r\n        }\r\n        this.overlay = false;\r\n        this.snackbarHint(\"Courses loaded\", \"success\");\r\n      } catch {\r\n        this.overlay = false;\r\n        this.snackbarHint(\"fail to load courses\", \"error\");\r\n      }\r\n      this.overlay = false;\r\n    },\r\n    find(id) {\r\n      if (!this.add) {\r\n        return;\r\n      }\r\n      let course = this.courses.find(c => c.course_id == id) || {};\r\n      this.course_id = id;\r\n      this.course_name = course.course_name;\r\n      let date = course.course_time.split(\" \");\r\n\r\n      this.course_d1 = date[0];\r\n      this.course_t1 = date[1];\r\n      // this.c_t1_holder = date[1];\r\n      this.course_point = course.course_point;\r\n      this.course_location = course.course_location;\r\n      this.course_duration = course.course_duration;\r\n      this.course_desc = course.course_desc;\r\n      this.snackbarHint(`Course [${this.course_name}] selected`, \"success\");\r\n    },\r\n    async addCourse() {\r\n      let dataSent = new FormData();\r\n      dataSent.append(\"course_name\", this.course_name);\r\n      dataSent.append(\"course_time\", this.course_d1 + \" \" + this.course_t1);\r\n      dataSent.append(\"course_location\", this.course_location);\r\n      dataSent.append(\"course_point\", this.course_point);\r\n      dataSent.append(\"course_duration\", this.course_duration);\r\n      dataSent.append(\"course_desc\", this.course_desc);\r\n\r\n      try {\r\n        let res = await this.$store.dispatch(\"callAPI\", {\r\n          send: dataSent,\r\n          branch: \"/add_course/\",\r\n          call: \"DO_NOTHING\",\r\n          dataSet: {}\r\n        });\r\n        this.course_t1 = null;\r\n        this.overlay = false;\r\n        if (res.code == \"1\") {\r\n          this.snackbarHint(\"Courses added\", \"success\");\r\n          this.getCourses();\r\n        } else {\r\n          this.snackbarHint(\"failed adding course\", \"error\");\r\n        }\r\n      } catch {\r\n        this.overlay = false;\r\n        this.snackbarHint(\"fail\", \"error\");\r\n      }\r\n      this.overlay = false;\r\n    },\r\n    async modifyCourse() {\r\n      let dataSent = new FormData();\r\n      dataSent.append(\"course_id\", this.course_id);\r\n      dataSent.append(\"course_name\", this.course_name);\r\n      dataSent.append(\"course_time\", this.course_d1 + \" \" + this.course_t1);\r\n      dataSent.append(\"course_location\", this.course_location);\r\n      dataSent.append(\"course_point\", this.course_point);\r\n      dataSent.append(\"course_duration\", this.course_duration);\r\n      dataSent.append(\"course_desc\", this.course_desc);\r\n\r\n      try {\r\n        let res = await this.$store.dispatch(\"callAPI\", {\r\n          send: dataSent,\r\n          branch: \"/modify_course/\",\r\n          call: \"DO_NOTHING\",\r\n          dataSet: {}\r\n        });\r\n\r\n        this.overlay = false;\r\n        this.course_t1 = null;\r\n        if (res.code == \"1\") {\r\n          this.snackbarHint(\"Courses modified\", \"success\");\r\n          this.getCourses();\r\n        } else {\r\n          this.snackbarHint(\"failed modifying course\", \"error\");\r\n        }\r\n      } catch {\r\n        this.overlay = false;\r\n        this.snackbarHint(\"fail\", \"error\");\r\n      }\r\n      this.overlay = false;\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n    this.getCourses();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  text-transform: uppercase;\r\n}\r\n.course-name {\r\n  max-width: 100%;\r\n  word-break: keep-all;\r\n  line-break: normal;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  line-height: 2em;\r\n}\r\n.date-part {\r\n  text-justify: distribute-all-lines;\r\n  justify-items: center;\r\n  align-items: center;\r\n  color: gray;\r\n  max-width: 120px;\r\n  height: 120px;\r\n  background-color: orange;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  padding: 0 !important;\r\n\r\n  border-radius: 15px 0 0 15px;\r\n}\r\n.course-location {\r\n  font-size: 12px;\r\n  color: gray;\r\n}\r\n.course-time {\r\n  height: 1em;\r\n  color: gray;\r\n  font-size: 12px;\r\n  text-align: center;\r\n}\r\n.course-image {\r\n  padding: 0 !important;\r\n}\r\n#course-container {\r\n  padding: 0;\r\n  border-radius: 15px;\r\n}\r\n.course-info {\r\n  padding: 0;\r\n  background-color: white;\r\n  margin-left: 1.25em;\r\n  max-width: auto;\r\n  height: 120px;\r\n  justify-content: center;\r\n  align-self: center;\r\n  align-content: center;\r\n  /* min-width: 125px; */\r\n}\r\n.my-container {\r\n  border-radius: 15px;\r\n  border-width: 2px;\r\n  border-color: aquamarine;\r\n}\r\n#btn-refresh,\r\n#btn-create,\r\n#btn-modify {\r\n  width: 120px;\r\n  margin: 5px;\r\n}\r\n</style>"]}]}